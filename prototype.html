<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatPack - åŸå‹è®¾è®¡</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: sans-serif; padding: 10px; }
        .container { display: flex; gap: 10px; height: 98vh; }
        
        /* å¯¼èˆª */
        .nav { width: 150px; border: 1px solid #ccc; padding: 10px; }
        .nav button { width: 100%; margin-bottom: 5px; padding: 8px; cursor: pointer; }
        .nav button.active { background: #007bff; color: white; }
        
        /* ä¸»åŒºåŸŸ */
        .main { flex: 1; border: 1px solid #ccc; padding: 10px; overflow-y: auto; height: 98vh; }
        .page { display: none; }
        .page.active { display: block; height: 100%; }
        
        /* é€šç”¨æ ·å¼ */
        h1 { font-size: 20px; margin-bottom: 15px; border-bottom: 2px solid #333; padding-bottom: 5px; }
        h2 { font-size: 16px; margin: 15px 0 10px; }
        button { padding: 5px 10px; margin: 2px; cursor: pointer; }
        input, select, textarea { padding: 5px; margin: 2px; }
        
        /* å¡åŒ… */
        .pack-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; }
        .pack-item { border: 1px solid #ccc; padding: 15px; }
        .pack-item h3 { margin-bottom: 10px; }
        .pack-result { margin-top: 20px; border: 2px solid #333; padding: 15px; }
        .card-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin-top: 10px; }
        .card { border: 1px solid #666; padding: 10px; text-align: center; }
        
        /* èŠå¤©å®¤ */
        .chat-layout { display: flex; gap: 10px; height: calc(100% - 60px); }
        .room-list { width: 200px; border: 1px solid #ccc; padding: 10px; overflow-y: auto; }
        .room-item { padding: 8px; margin-bottom: 5px; cursor: pointer; border: 1px solid #ddd; }
        .room-item.active { background: #007bff; color: white; }
        .chat-area { flex: 1; display: flex; flex-direction: column; }
        .chat-header { padding: 10px; border: 1px solid #ccc; margin-bottom: 10px; }
        .messages { flex: 1; border: 1px solid #ccc; padding: 10px; overflow-y: auto; margin-bottom: 10px; }
        .message { margin-bottom: 15px; padding: 10px; border-left: 3px solid #007bff; }
        .message-info { font-size: 12px; color: #666; margin-bottom: 5px; }
        .message-actions { margin-top: 5px; }
        .input-area { display: flex; gap: 5px; }
        .input-area input { flex: 1; }
        
        /* åº“å­˜/è¯æ±‡åº“ */
        .filter-bar { margin-bottom: 15px; padding: 10px; border: 1px solid #ccc; }
        .stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 15px; }
        .stat-item { border: 1px solid #ccc; padding: 15px; text-align: center; }
        .stat-value { font-size: 24px; font-weight: bold; }
        .stat-label { font-size: 12px; color: #666; }
        .word-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; }
        .word-item { border: 1px solid #ccc; padding: 10px; text-align: center; cursor: pointer; }
        .word-item:hover { background: #f0f0f0; }
        .word-detail { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; border: 2px solid #333; padding: 20px; min-width: 300px; box-shadow: 0 0 10px rgba(0,0,0,0.3); z-index: 1000; }
        .overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 999; }
        .overlay.active { display: block; }
        
        /* ä¸ªäººä¸­å¿ƒ */
        .profile-section { margin-bottom: 20px; border: 1px solid #ccc; padding: 15px; }
        .user-info { display: flex; gap: 15px; align-items: center; margin-bottom: 20px; }
        .avatar { width: 80px; height: 80px; border: 2px solid #333; display: flex; align-items: center; justify-content: center; font-size: 32px; }
        
        /* æ ‡ç­¾ */
        .badge { display: inline-block; padding: 2px 8px; font-size: 11px; border-radius: 3px; }
        .badge-common { background: #ccc; }
        .badge-rare { background: #4a90e2; color: white; }
        .badge-epic { background: #9b59b6; color: white; }
        .badge-legendary { background: #f39c12; color: white; }
        .badge-new { background: #e74c3c; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¯¼èˆªæ  -->
        <div class="nav">
            <h3>ChatPack</h3>
            <hr style="margin: 10px 0;">
            <button onclick="showPage('pack')" class="active">ğŸ´ å¡åŒ…</button>
            <button onclick="showPage('chat')">ğŸ’¬ èŠå¤©å®¤</button>
            <button onclick="showPage('inventory')">ğŸ“¦ æˆ‘çš„å•è¯</button>
            <button onclick="showPage('vocabulary')">ğŸ“š è¯æ±‡åº“</button>
            <button onclick="showPage('notebook')">ğŸ“– ç”Ÿè¯æœ¬</button>
            <button onclick="showPage('profile')">ğŸ‘¤ ä¸ªäººä¸­å¿ƒ</button>
            <hr style="margin: 10px 0;">
            <button onclick="showAdmin()" style="background: #ff6b6b; color: white;">âš™ï¸ åå°ç®¡ç†</button>
        </div>

        <!-- ä¸»å†…å®¹åŒº -->
        <div class="main">
            <!-- 1. å¡åŒ…é¡µé¢ -->
            <div id="packPage" class="page active">
                <h1>ğŸ´ å¡åŒ…å•†åº—</h1>
                <p>æ‰“å¼€å¡åŒ…è·å¾—å•è¯å¡ç‰‡ï¼Œä¸ä¼šé‡å¤è·å¾—å·²æœ‰å•è¯</p>
                
                <h2>é¢†å–å¡åŒ…</h2>
                <div style="margin-bottom: 20px; padding: 15px; border: 1px solid #ccc; background: #f9f9f9;">
                    <p style="margin-bottom: 10px;">è¾“å…¥é‚€è¯·ç æˆ–å®Œæˆä»»åŠ¡é¢†å–å¡åŒ…</p>
                    <input type="text" id="inviteCode" placeholder="è¾“å…¥é‚€è¯·ç ..." style="width: 200px; margin-right: 5px;">
                    <button onclick="claimWithInviteCode()">ä½¿ç”¨é‚€è¯·ç é¢†å–</button>
                    <button onclick="claimDailyPack()" style="margin-left: 10px;">æ¯æ—¥ç­¾åˆ°é¢†å– (æ™®é€šå¡åŒ… x1)</button>
                    <button onclick="claimNewbiePack()" style="margin-left: 10px;">æ–°æ‰‹ç¤¼åŒ… (æ™®é€šå¡åŒ… x3)</button>
                </div>
                
                <h2>æˆ‘çš„å¡åŒ… (3ä¸ª)</h2>
                <div class="pack-list">
                    <div class="pack-item">
                        <h3>æ™®é€šå¡åŒ…</h3>
                        <p>åŒ…å«5å¼ å•è¯å¡</p>
                        <p><small>æ¦‚ç‡: æ™®é€š60% ç¨€æœ‰30% å²è¯—8% ä¼ è¯´2%</small></p>
                        <button onclick="openPack('common')">æ‰“å¼€å¡åŒ…</button>
                    </div>
                    <div class="pack-item">
                        <h3>ç¨€æœ‰å¡åŒ…</h3>
                        <p>åŒ…å«5å¼ ç¨€æœ‰å•è¯</p>
                        <p><small>100%ç¨€æœ‰ç¨€æœ‰åº¦</small></p>
                        <button onclick="openPack('rare')">æ‰“å¼€å¡åŒ…</button>
                    </div>
                    <div class="pack-item">
                        <h3>å²è¯—å¡åŒ…</h3>
                        <p>åŒ…å«5å¼ å²è¯—å•è¯</p>
                        <p><small>100%å²è¯—ç¨€æœ‰åº¦</small></p>
                        <button onclick="openPack('epic')">æ‰“å¼€å¡åŒ…</button>
                    </div>
                    <div class="pack-item">
                        <h3>ä¼ è¯´å¡åŒ…</h3>
                        <p>åŒ…å«5å¼ ä¼ è¯´å•è¯</p>
                        <p><small>100%ä¼ è¯´ç¨€æœ‰åº¦</small></p>
                        <button onclick="openPack('legendary')">æ‰“å¼€å¡åŒ…</button>
                    </div>
                </div>

                <div id="packResult" class="pack-result" style="display:none;">
                    <h2>âœ¨ è·å¾—å•è¯</h2>
                    <div id="cardGrid" class="card-grid"></div>
                    <button onclick="document.getElementById('packResult').style.display='none'">å…³é—­</button>
                </div>

                <h2>ç»Ÿè®¡</h2>
                <p>ç´¯è®¡å¼€åŒ…æ•°: <strong id="totalPacks">0</strong></p>
            </div>

            <!-- 2. èŠå¤©å®¤é¡µé¢ -->
            <div id="chatPage" class="page">
                <h1>ğŸ’¬ èŠå¤©å®¤</h1>
                <p>ä½¿ç”¨å·²æ”¶é›†çš„å•è¯å’Œç¬¦å·è¿›è¡Œäº¤æµ</p>
                
                <div class="chat-layout">
                    <div class="room-list">
                        <h3>èŠå¤©å®¤åˆ—è¡¨</h3>
                        <div class="room-item active" onclick="switchRoom(this, 'ğŸŒ± å°å­¦ä¹å›­')">ğŸŒ± å°å­¦ä¹å›­</div>
                        <div class="room-item" onclick="switchRoom(this, 'ğŸŒ¿ åˆä¸­ä¸–ç•Œ')">ğŸŒ¿ åˆä¸­ä¸–ç•Œ</div>
                        <div class="room-item" onclick="switchRoom(this, 'ğŸŒ³ é«˜ä¸­æ®¿å ‚')">ğŸŒ³ é«˜ä¸­æ®¿å ‚</div>
                        <div class="room-item" onclick="switchRoom(this, 'ğŸ“ å››çº§å¹¿åœº')">ğŸ“ å››çº§å¹¿åœº</div>
                        <div class="room-item" onclick="switchRoom(this, 'ğŸ† å…­çº§å¤©åœ°')">ğŸ† å…­çº§å¤©åœ°</div>
                        <div class="room-item" onclick="switchRoom(this, 'ğŸ‘‘ è€ƒç ”é¢†åŸŸ')">ğŸ‘‘ è€ƒç ”é¢†åŸŸ</div>
                    </div>
                    
                    <div class="chat-area">
                        <div class="chat-header">
                            <strong id="currentRoom">ğŸŒ± å°å­¦ä¹å›­</strong>
                            <span style="margin-left: 20px; color: #666;">åœ¨çº¿: 142äºº</span>
                        </div>
                        
                        <div class="messages" id="chatMessages"></div>
                        
                        <div class="input-area">
                            <input type="text" id="chatInput" placeholder="è¾“å…¥æ¶ˆæ¯... (åªèƒ½ä½¿ç”¨å·²æ”¶é›†çš„å•è¯å’Œç¬¦å·)" onkeypress="if(event.key==='Enter')sendMessage()">
                            <button onclick="sendMessage()">å‘é€</button>
                        </div>
                        
                        <p style="margin-top: 5px; font-size: 12px; color: #666;">
                            æç¤º: å‘é€å‰ä¼šæ£€æŸ¥æ˜¯å¦æ‰€æœ‰å•è¯éƒ½å·²æ”¶é›†
                        </p>
                    </div>
                </div>
            </div>

            <!-- 3. æˆ‘çš„å•è¯ -->
            <div id="inventoryPage" class="page">
                <h1>ğŸ“¦ æˆ‘çš„å•è¯åº“å­˜</h1>
                <p>æŸ¥çœ‹å’Œç®¡ç†å·²æ”¶é›†çš„å•è¯</p>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="invTotal">0</div>
                        <div class="stat-label">æ€»å•è¯æ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="invRare">0</div>
                        <div class="stat-label">ç¨€æœ‰å•è¯</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="invEpic">0</div>
                        <div class="stat-label">å²è¯—å•è¯</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="invLegendary">0</div>
                        <div class="stat-label">ä¼ è¯´å•è¯</div>
                    </div>
                </div>
                
                <div class="filter-bar">
                    <label>ç¨€æœ‰åº¦: 
                        <select id="invRarityFilter" onchange="filterInventory()">
                            <option value="all">å…¨éƒ¨</option>
                            <option value="COMMON">æ™®é€š</option>
                            <option value="RARE">ç¨€æœ‰</option>
                            <option value="EPIC">å²è¯—</option>
                            <option value="LEGENDARY">ä¼ è¯´</option>
                        </select>
                    </label>
                    <label style="margin-left: 10px;">æœç´¢: 
                        <input type="text" id="invSearch" placeholder="è¾“å…¥å•è¯..." oninput="filterInventory()">
                    </label>
                    <label style="margin-left: 10px;">
                        <input type="checkbox" id="invFavorite" onchange="filterInventory()"> åªçœ‹æ”¶è—
                    </label>
                </div>
                
                <div class="word-grid" id="inventoryGrid"></div>
            </div>

            <!-- 4. è¯æ±‡åº“ -->
            <div id="vocabularyPage" class="page">
                <h1>ğŸ“š è¯æ±‡åº“</h1>
                <p>æµè§ˆæ‰€æœ‰å¯æ”¶é›†çš„å•è¯ï¼ˆåŒ…æ‹¬æœªè·å¾—çš„ï¼‰</p>
                
                <div class="filter-bar">
                    <label>å•è¯ä¹¦: 
                        <select id="vocabBookFilter" onchange="filterVocabulary()">
                            <option value="all">å…¨éƒ¨</option>
                            <option value="primary">å°å­¦è¯æ±‡</option>
                            <option value="middle">åˆä¸­è¯æ±‡</option>
                            <option value="high">é«˜ä¸­è¯æ±‡</option>
                            <option value="cet4">å››çº§è¯æ±‡</option>
                            <option value="cet6">å…­çº§è¯æ±‡</option>
                            <option value="kaoyan">è€ƒç ”è¯æ±‡</option>
                        </select>
                    </label>
                    <label style="margin-left: 10px;">ç¨€æœ‰åº¦: 
                        <select id="vocabRarityFilter" onchange="filterVocabulary()">
                            <option value="all">å…¨éƒ¨</option>
                            <option value="COMMON">æ™®é€š</option>
                            <option value="RARE">ç¨€æœ‰</option>
                            <option value="EPIC">å²è¯—</option>
                            <option value="LEGENDARY">ä¼ è¯´</option>
                        </select>
                    </label>
                    <label style="margin-left: 10px;">æœç´¢: 
                        <input type="text" id="vocabSearch" placeholder="è¾“å…¥å•è¯..." oninput="filterVocabulary()">
                    </label>
                    <label style="margin-left: 10px;">
                        <input type="checkbox" id="vocabUnowned" onchange="filterVocabulary()"> åªçœ‹æœªè·å¾—
                    </label>
                </div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="vocabTotal">5000</div>
                        <div class="stat-label">è¯æ±‡åº“æ€»æ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="vocabOwned">0</div>
                        <div class="stat-label">å·²æ”¶é›†</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="vocabProgress">0%</div>
                        <div class="stat-label">æ”¶é›†è¿›åº¦</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="vocabFiltered">0</div>
                        <div class="stat-label">å½“å‰ç­›é€‰ç»“æœ</div>
                    </div>
                </div>
                
                <div class="word-grid" id="vocabularyGrid"></div>
            </div>

            <!-- 5. ç”Ÿè¯æœ¬ -->
            <div id="notebookPage" class="page">
                <h1>ğŸ“– ç”Ÿè¯æœ¬</h1>
                <p>æ”¶è—çš„ç”Ÿè¯å’Œå­¦ä¹ ç¬”è®°</p>
                
                <div class="filter-bar">
                    <button onclick="alert('æ·»åŠ å½“å‰æŸ¥çœ‹çš„å•è¯åˆ°ç”Ÿè¯æœ¬')">â• æ·»åŠ ç”Ÿè¯</button>
                    <label style="margin-left: 10px;">æ’åº: 
                        <select id="notebookSort" onchange="filterNotebook()">
                            <option value="time">æ·»åŠ æ—¶é—´</option>
                            <option value="alpha">å­—æ¯é¡ºåº</option>
                            <option value="rarity">ç¨€æœ‰åº¦</option>
                        </select>
                    </label>
                    <label style="margin-left: 10px;">æœç´¢: 
                        <input type="text" id="notebookSearch" placeholder="æœç´¢ç”Ÿè¯..." oninput="filterNotebook()">
                    </label>
                </div>
                
                <p style="margin: 15px 0;">ç”Ÿè¯æ€»æ•°: <strong id="notebookCount">0</strong></p>
                
                <div id="notebookList">
                    <p style="color: #666;">æš‚æ— ç”Ÿè¯ï¼Œåœ¨è¯æ±‡åº“æˆ–æˆ‘çš„å•è¯ä¸­ç‚¹å‡»"åŠ å…¥ç”Ÿè¯æœ¬"</p>
                </div>
            </div>

            <!-- 6. æœç´¢ -->
            <div id="searchPage" class="page">
                <h1>ğŸ” æœç´¢å•è¯</h1>
                <p>ä»å·²æ”¶é›†çš„å•è¯ä¸­å¿«é€ŸæŸ¥æ‰¾</p>
                
                <div class="filter-bar">
                    <label>æœç´¢èŒƒå›´: 
                        <select id="searchScope">
                            <option value="inventory">æˆ‘çš„å•è¯</option>
                            <option value="vocabulary">è¯æ±‡åº“</option>
                            <option value="both">å…¨éƒ¨</option>
                        </select>
                    </label>
                    <label style="margin-left: 10px;">
                        <input type="text" id="searchInput" placeholder="è¾“å…¥è‹±æ–‡å•è¯æˆ–ä¸­æ–‡é‡Šä¹‰..." style="width: 300px;">
                    </label>
                    <button onclick="performSearch()">æœç´¢</button>
                </div>
                
                <h2>æœç´¢é€‰é¡¹</h2>
                <div style="margin-bottom: 15px;">
                    <label><input type="checkbox" id="searchExact"> ç²¾ç¡®åŒ¹é…</label>
                    <label style="margin-left: 10px;"><input type="checkbox" id="searchCaseSensitive"> åŒºåˆ†å¤§å°å†™</label>
                    <label style="margin-left: 10px;"><input type="checkbox" id="searchMeaning"> åŒæ—¶æœç´¢é‡Šä¹‰</label>
                </div>
                
                <div id="searchResults">
                    <p style="color: #666;">åœ¨ä¸Šæ–¹è¾“å…¥å…³é”®è¯å¼€å§‹æœç´¢</p>
                </div>
            </div>

            <!-- 6. æœç´¢ -->
            <div id="searchPage" class="page">
                <h1>ğŸ” æœç´¢å•è¯</h1>
                <p>ä»å·²æ”¶é›†çš„å•è¯ä¸­å¿«é€ŸæŸ¥æ‰¾</p>
                
                <div class="filter-bar">
                    <label>æœç´¢èŒƒå›´: 
                        <select id="searchScope">
                            <option value="inventory">æˆ‘çš„å•è¯</option>
                            <option value="vocabulary">è¯æ±‡åº“</option>
                            <option value="both">å…¨éƒ¨</option>
                        </select>
                    </label>
                    <label style="margin-left: 10px;">
                        <input type="text" id="searchInput" placeholder="è¾“å…¥è‹±æ–‡å•è¯æˆ–ä¸­æ–‡é‡Šä¹‰..." style="width: 300px;">
                    </label>
                    <button onclick="performSearch()">æœç´¢</button>
                </div>
                
                <h2>æœç´¢é€‰é¡¹</h2>
                <div style="margin-bottom: 15px;">
                    <label><input type="checkbox" id="searchExact"> ç²¾ç¡®åŒ¹é…</label>
                    <label style="margin-left: 10px;"><input type="checkbox" id="searchCaseSensitive"> åŒºåˆ†å¤§å°å†™</label>
                    <label style="margin-left: 10px;"><input type="checkbox" id="searchMeaning"> åŒæ—¶æœç´¢é‡Šä¹‰</label>
                </div>
                
                <div id="searchResults">
                    <p style="color: #666;">åœ¨ä¸Šæ–¹è¾“å…¥å…³é”®è¯å¼€å§‹æœç´¢</p>
                </div>
            </div>

            <!-- 7. ä¸ªäººä¸­å¿ƒ -->
            <div id="profilePage" class="page">
                <h1>ğŸ‘¤ ä¸ªäººä¸­å¿ƒ</h1>
                
                <div class="profile-section">
                    <h2>ç”¨æˆ·ä¿¡æ¯</h2>
                    <div class="user-info">
                        <div class="avatar">æ—…</div>
                        <div>
                            <h3>æ—…è¡Œè€…</h3>
                            <p>UID: 88888888</p>
                            <p>é‚€è¯·ç : <strong>ABCD1234</strong></p>
                            <p style="color: green;">â— åœ¨çº¿</p>
                        </div>
                    </div>
                    <button>ç¼–è¾‘èµ„æ–™</button>
                </div>
                
                <div class="profile-section">
                    <h2>ğŸ“Š ç»Ÿè®¡æ•°æ®</h2>
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-value" id="profilePacks">0</div>
                            <div class="stat-label">ç´¯è®¡å¼€åŒ…æ•°</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="profileWords">0</div>
                            <div class="stat-label">æ”¶é›†å•è¯æ•°</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">127</div>
                            <div class="stat-label">å‘é€æ¶ˆæ¯æ•°</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">356</div>
                            <div class="stat-label">æ”¶åˆ°é²œèŠ±æ•°</div>
                        </div>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h2>âš™ï¸ è´¦å·è®¾ç½®</h2>
                    <p><label>æ˜µç§°: <input type="text" value="æ—…è¡Œè€…"></label></p>
                    <p><label>é‚®ç®±: <input type="email" value="traveler@example.com"></label></p>
                    <p><button>ä¿å­˜ä¿®æ”¹</button></p>
                </div>
                
                <div class="profile-section">
                    <h2>ğŸ é‚€è¯·å¥½å‹</h2>
                    <p>åˆ†äº«ä½ çš„é‚€è¯·ç ï¼Œé‚€è¯·å¥½å‹åŠ å…¥ï¼</p>
                    <p>æˆ‘çš„é‚€è¯·ç : <strong>ABCD1234</strong> <button onclick="alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿')">å¤åˆ¶</button></p>
                    <p>å·²é‚€è¯·: <strong>3</strong> äºº</p>
                </div>
            </div>
        </div>
    </div>

    <!-- åå°ç®¡ç†ç³»ç»Ÿ (ç‹¬ç«‹é¡µé¢) -->
    <div id="adminSystem" style="display: none;">
        <div class="container">
            <!-- åå°å¯¼èˆª -->
            <div class="nav">
                <h3 style="color: #ff6b6b;">åå°ç®¡ç†</h3>
                <hr style="margin: 10px 0;">
                <button onclick="showAdminTab('dashboard')" id="adminDashboardBtn" class="active">ğŸ“Š æ•°æ®ç»Ÿè®¡</button>
                <button onclick="showAdminTab('words')" id="adminWordsBtn">ğŸ“ å•è¯ç®¡ç†</button>
                <button onclick="showAdminTab('wordbooks')" id="adminWordbooksBtn">ğŸ“š å•è¯ä¹¦ç®¡ç†</button>
                <button onclick="showAdminTab('rooms')" id="adminRoomsBtn">ğŸ’¬ èŠå¤©å®¤ç®¡ç†</button>
                <button onclick="showAdminTab('users')" id="adminUsersBtn">ğŸ‘¥ ç”¨æˆ·ç®¡ç†</button>
                <button onclick="showAdminTab('packs')" id="adminPacksBtn">ğŸ´ å¡åŒ…ç®¡ç†</button>
                <button onclick="showAdminTab('settings')" id="adminSettingsBtn">âš™ï¸ ç³»ç»Ÿè®¾ç½®</button>
                <hr style="margin: 10px 0;">
                <button onclick="showUser()" style="background: #007bff; color: white;">â† è¿”å›å‰å°</button>
            </div>

            <!-- åå°ä¸»åŒºåŸŸ -->
            <div class="main">
            <!-- 7. åå°ç®¡ç† -->
                <!-- æ•°æ®ç»Ÿè®¡ä»ªè¡¨ç›˜ -->
                <div id="adminDashboard" class="admin-tab active">
                    <h2>ğŸ“Š æ•°æ®ç»Ÿè®¡ä»ªè¡¨ç›˜</h2>
                    <div class="stats">
                        <div class="stat-item"><div class="stat-value">1,234</div><div class="stat-label">æ€»ç”¨æˆ·æ•°</div></div>
                        <div class="stat-item"><div class="stat-value">89</div><div class="stat-label">ä»Šæ—¥æ´»è·ƒ</div></div>
                        <div class="stat-item"><div class="stat-value">45</div><div class="stat-label">æœ¬å‘¨æ–°å¢</div></div>
                        <div class="stat-item"><div class="stat-value">3</div><div class="stat-label">å°ç¦ç”¨æˆ·</div></div>
                    </div>
                    <div class="stats">
                        <div class="stat-item"><div class="stat-value">5,000</div><div class="stat-label">å•è¯æ€»æ•°</div></div>
                        <div class="stat-item"><div class="stat-value">8,765</div><div class="stat-label">æ€»å¼€åŒ…æ•°</div></div>
                        <div class="stat-item"><div class="stat-value">23,456</div><div class="stat-label">æ¶ˆæ¯æ€»æ•°</div></div>
                        <div class="stat-item"><div class="stat-value">9,876</div><div class="stat-label">æ€»é²œèŠ±æ•°</div></div>
                    </div>
                    <h3>ç”¨æˆ·å¢é•¿è¶‹åŠ¿</h3>
                    <div style="border: 1px solid #ccc; padding: 20px; text-align: center; color: #999;">
                        [å›¾è¡¨å ä½ï¼šæŠ˜çº¿å›¾ - ç”¨æˆ·å¢é•¿è¶‹åŠ¿]
                    </div>
                    <h3 style="margin-top: 20px;">å•è¯ç¨€æœ‰åº¦åˆ†å¸ƒ</h3>
                    <div style="border: 1px solid #ccc; padding: 20px; text-align: center; color: #999;">
                        [å›¾è¡¨å ä½ï¼šé¥¼å›¾ - ç¨€æœ‰åº¦åˆ†å¸ƒ]
                    </div>
                </div>

                <!-- å•è¯ç®¡ç† -->
                <div id="adminWords" class="admin-tab" style="display: none;">
                    <h2>ğŸ“ å•è¯ç®¡ç†</h2>
                    <div style="margin-bottom: 15px;">
                        <button onclick="alert('æ‰“å¼€æ·»åŠ å•è¯å¯¹è¯æ¡†')">â• æ·»åŠ å•è¯</button>
                        <button onclick="alert('æ‰“å¼€æ‰¹é‡å¯¼å…¥å¯¹è¯æ¡†')" style="margin-left: 5px;">ğŸ“¥ æ‰¹é‡å¯¼å…¥</button>
                        <button onclick="alert('ä¸‹è½½æ¨¡æ¿')" style="margin-left: 5px;">ğŸ“„ ä¸‹è½½æ¨¡æ¿</button>
                    </div>
                    <div class="filter-bar">
                        <input type="text" placeholder="æœç´¢å•è¯æˆ–é‡Šä¹‰..." style="width: 200px;">
                        <select style="margin-left: 10px;">
                            <option value="">å…¨éƒ¨ç¨€æœ‰åº¦</option>
                            <option>COMMON</option>
                            <option>RARE</option>
                            <option>EPIC</option>
                            <option>LEGENDARY</option>
                        </select>
                        <select style="margin-left: 10px;">
                            <option value="">å…¨éƒ¨å•è¯ä¹¦</option>
                            <option>å°å­¦è¯æ±‡</option>
                            <option>åˆä¸­è¯æ±‡</option>
                            <option>é«˜ä¸­è¯æ±‡</option>
                        </select>
                        <button style="margin-left: 10px;">æœç´¢</button>
                    </div>
                    <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                        <thead style="background: #f0f0f0;">
                            <tr>
                                <th style="border: 1px solid #ccc; padding: 8px;">å•è¯</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">é‡Šä¹‰</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">éŸ³æ ‡</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">ç¨€æœ‰åº¦</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">æ‰€å±å•è¯ä¹¦</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 8px;">hello</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">ä½ å¥½</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">/hÉ™ËˆlÉ™ÊŠ/</td>
                                <td style="border: 1px solid #ccc; padding: 8px;"><span class="badge badge-common">COMMON</span></td>
                                <td style="border: 1px solid #ccc; padding: 8px;">å°å­¦è¯æ±‡</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">
                                    <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                                    <button onclick="alert('åˆ é™¤')">åˆ é™¤</button>
                                </td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 8px;">beautiful</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">ç¾ä¸½çš„</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">/ËˆbjuËtÉªfl/</td>
                                <td style="border: 1px solid #ccc; padding: 8px;"><span class="badge badge-rare">RARE</span></td>
                                <td style="border: 1px solid #ccc; padding: 8px;">åˆä¸­è¯æ±‡</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">
                                    <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                                    <button onclick="alert('åˆ é™¤')">åˆ é™¤</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin-top: 15px;">æ˜¾ç¤º 1-2 / æ€»å…± 5000 æ¡ <button>ä¸Šä¸€é¡µ</button> <button>ä¸‹ä¸€é¡µ</button></p>
                </div>

                <!-- å•è¯ä¹¦ç®¡ç† -->
                <div id="adminWordbooks" class="admin-tab" style="display: none;">
                    <h2>ğŸ“š å•è¯ä¹¦ç®¡ç†</h2>
                    <div class="pack-list" style="grid-template-columns: repeat(3, 1fr);">
                        <div class="pack-item">
                            <h3>ğŸŒ± å°å­¦è¯æ±‡</h3>
                            <p>PRIMARY</p>
                            <p>å•è¯æ•°: <strong>500</strong></p>
                            <p>çŠ¶æ€: <label><input type="checkbox" checked> å¯ç”¨</label></p>
                            <button onclick="alert('ç®¡ç†å•è¯')">ç®¡ç†å•è¯</button>
                            <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                        </div>
                        <div class="pack-item">
                            <h3>ğŸŒ¿ åˆä¸­è¯æ±‡</h3>
                            <p>MIDDLE</p>
                            <p>å•è¯æ•°: <strong>800</strong></p>
                            <p>çŠ¶æ€: <label><input type="checkbox" checked> å¯ç”¨</label></p>
                            <button onclick="alert('ç®¡ç†å•è¯')">ç®¡ç†å•è¯</button>
                            <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                        </div>
                        <div class="pack-item">
                            <h3>ğŸŒ³ é«˜ä¸­è¯æ±‡</h3>
                            <p>HIGH</p>
                            <p>å•è¯æ•°: <strong>1200</strong></p>
                            <p>çŠ¶æ€: <label><input type="checkbox" checked> å¯ç”¨</label></p>
                            <button onclick="alert('ç®¡ç†å•è¯')">ç®¡ç†å•è¯</button>
                            <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                        </div>
                        <div class="pack-item">
                            <h3>ğŸ“ å››çº§è¯æ±‡</h3>
                            <p>CET4</p>
                            <p>å•è¯æ•°: <strong>1500</strong></p>
                            <p>çŠ¶æ€: <label><input type="checkbox" checked> å¯ç”¨</label></p>
                            <button onclick="alert('ç®¡ç†å•è¯')">ç®¡ç†å•è¯</button>
                            <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                        </div>
                        <div class="pack-item">
                            <h3>ğŸ† å…­çº§è¯æ±‡</h3>
                            <p>CET6</p>
                            <p>å•è¯æ•°: <strong>1800</strong></p>
                            <p>çŠ¶æ€: <label><input type="checkbox" checked> å¯ç”¨</label></p>
                            <button onclick="alert('ç®¡ç†å•è¯')">ç®¡ç†å•è¯</button>
                            <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                        </div>
                        <div class="pack-item">
                            <h3>ğŸ‘‘ è€ƒç ”è¯æ±‡</h3>
                            <p>POSTGRADUATE</p>
                            <p>å•è¯æ•°: <strong>2000</strong></p>
                            <p>çŠ¶æ€: <label><input type="checkbox" checked> å¯ç”¨</label></p>
                            <button onclick="alert('ç®¡ç†å•è¯')">ç®¡ç†å•è¯</button>
                            <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                        </div>
                    </div>
                </div>

                <!-- èŠå¤©å®¤ç®¡ç† -->
                <div id="adminRooms" class="admin-tab" style="display: none;">
                    <h2>ğŸ’¬ èŠå¤©å®¤ç®¡ç†</h2>
                    <div style="margin-bottom: 15px;">
                        <button onclick="alert('åˆ›å»ºèŠå¤©å®¤')">â• åˆ›å»ºèŠå¤©å®¤</button>
                    </div>
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead style="background: #f0f0f0;">
                            <tr>
                                <th style="border: 1px solid #ccc; padding: 8px;">åç§°</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">å…³è”å•è¯ä¹¦</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">æè¿°</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">åœ¨çº¿äººæ•°</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">çŠ¶æ€</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 8px;">ğŸŒ± å°å­¦ä¹å›­</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">å°å­¦è¯æ±‡</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">é€‚åˆå°å­¦æ°´å¹³</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">45</td>
                                <td style="border: 1px solid #ccc; padding: 8px;"><label><input type="checkbox" checked> å¯ç”¨</label></td>
                                <td style="border: 1px solid #ccc; padding: 8px;">
                                    <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                                    <button onclick="alert('é…ç½®å•è¯ä¹¦')">é…ç½®å•è¯ä¹¦</button>
                                    <button onclick="alert('åˆ é™¤')">åˆ é™¤</button>
                                </td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 8px;">ğŸŒ¿ åˆä¸­ä¸–ç•Œ</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">å°å­¦+åˆä¸­</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">åˆä¸­æ°´å¹³äº¤æµ</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">38</td>
                                <td style="border: 1px solid #ccc; padding: 8px;"><label><input type="checkbox" checked> å¯ç”¨</label></td>
                                <td style="border: 1px solid #ccc; padding: 8px;">
                                    <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                                    <button onclick="alert('é…ç½®å•è¯ä¹¦')">é…ç½®å•è¯ä¹¦</button>
                                    <button onclick="alert('åˆ é™¤')">åˆ é™¤</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- ç”¨æˆ·ç®¡ç† -->
                <div id="adminUsers" class="admin-tab" style="display: none;">
                    <h2>ğŸ‘¥ ç”¨æˆ·ç®¡ç†</h2>
                    <div class="filter-bar">
                        <input type="text" placeholder="æœç´¢ç”¨æˆ·åæˆ–æ˜µç§°..." style="width: 200px;">
                        <select style="margin-left: 10px;">
                            <option value="">å…¨éƒ¨è§’è‰²</option>
                            <option>USER</option>
                            <option>ADMIN</option>
                        </select>
                        <select style="margin-left: 10px;">
                            <option value="">å…¨éƒ¨çŠ¶æ€</option>
                            <option>æ­£å¸¸</option>
                            <option>å°ç¦</option>
                        </select>
                        <button style="margin-left: 10px;">æœç´¢</button>
                    </div>
                    <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                        <thead style="background: #f0f0f0;">
                            <tr>
                                <th style="border: 1px solid #ccc; padding: 8px;">ç”¨æˆ·å</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">æ˜µç§°</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">è§’è‰²</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">çŠ¶æ€</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">æ³¨å†Œæ—¶é—´</th>
                                <th style="border: 1px solid #ccc; padding: 8px;">æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 8px;">traveler001</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">æ—…è¡Œè€…</td>
                                <td style="border: 1px solid #ccc; padding: 8px;"><span class="badge" style="background: #28a745; color: white;">USER</span></td>
                                <td style="border: 1px solid #ccc; padding: 8px;">æ­£å¸¸</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">2026-01-01</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">
                                    <button onclick="alert('æŸ¥çœ‹è¯¦æƒ…')">è¯¦æƒ…</button>
                                    <button onclick="alert('èµ é€å¡åŒ…')">èµ é€</button>
                                    <button onclick="alert('å°ç¦')">å°ç¦</button>
                                </td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 8px;">admin</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">ç®¡ç†å‘˜</td>
                                <td style="border: 1px solid #ccc; padding: 8px;"><span class="badge" style="background: #dc3545; color: white;">ADMIN</span></td>
                                <td style="border: 1px solid #ccc; padding: 8px;">æ­£å¸¸</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">2025-12-01</td>
                                <td style="border: 1px solid #ccc; padding: 8px;">
                                    <button onclick="alert('æŸ¥çœ‹è¯¦æƒ…')">è¯¦æƒ…</button>
                                    <button disabled>èµ é€</button>
                                    <button disabled>å°ç¦</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin-top: 15px;">æ˜¾ç¤º 1-2 / æ€»å…± 1234 æ¡ <button>ä¸Šä¸€é¡µ</button> <button>ä¸‹ä¸€é¡µ</button></p>
                </div>

                <!-- å¡åŒ…ç®¡ç† -->
                <div id="adminPacks" class="admin-tab" style="display: none;">
                    <h2>ğŸ´ å¡åŒ…ç®¡ç†</h2>
                    <div style="margin-bottom: 15px;">
                        <button onclick="alert('åˆ›å»ºå¡åŒ…')">â• åˆ›å»ºå¡åŒ…</button>
                    </div>
                    <div class="pack-list">
                        <div class="pack-item">
                            <h3>æ™®é€šå¡åŒ…</h3>
                            <p>ç¨€æœ‰åº¦é…ç½®: æ··åˆ</p>
                            <p>å¡ç‰‡æ•°é‡: <strong>5</strong></p>
                            <p>æ€»å¼€åŒ…æ•°: <strong>3,456</strong></p>
                            <p>çŠ¶æ€: <label><input type="checkbox" checked> å¯ç”¨</label></p>
                            <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                            <button onclick="alert('æŸ¥çœ‹ç»Ÿè®¡')">ç»Ÿè®¡</button>
                            <button onclick="alert('åˆ é™¤')">åˆ é™¤</button>
                        </div>
                        <div class="pack-item">
                            <h3>ç¨€æœ‰å¡åŒ…</h3>
                            <p>ç¨€æœ‰åº¦é…ç½®: 100% ç¨€æœ‰</p>
                            <p>å¡ç‰‡æ•°é‡: <strong>5</strong></p>
                            <p>æ€»å¼€åŒ…æ•°: <strong>876</strong></p>
                            <p>çŠ¶æ€: <label><input type="checkbox" checked> å¯ç”¨</label></p>
                            <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                            <button onclick="alert('æŸ¥çœ‹ç»Ÿè®¡')">ç»Ÿè®¡</button>
                            <button onclick="alert('åˆ é™¤')">åˆ é™¤</button>
                        </div>
                        <div class="pack-item">
                            <h3>å²è¯—å¡åŒ…</h3>
                            <p>ç¨€æœ‰åº¦é…ç½®: 100% å²è¯—</p>
                            <p>å¡ç‰‡æ•°é‡: <strong>5</strong></p>
                            <p>æ€»å¼€åŒ…æ•°: <strong>234</strong></p>
                            <p>çŠ¶æ€: <label><input type="checkbox" checked> å¯ç”¨</label></p>
                            <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                            <button onclick="alert('æŸ¥çœ‹ç»Ÿè®¡')">ç»Ÿè®¡</button>
                            <button onclick="alert('åˆ é™¤')">åˆ é™¤</button>
                        </div>
                        <div class="pack-item">
                            <h3>ä¼ è¯´å¡åŒ…</h3>
                            <p>ç¨€æœ‰åº¦é…ç½®: 100% ä¼ è¯´</p>
                            <p>å¡ç‰‡æ•°é‡: <strong>5</strong></p>
                            <p>æ€»å¼€åŒ…æ•°: <strong>56</strong></p>
                            <p>çŠ¶æ€: <label><input type="checkbox" checked> å¯ç”¨</label></p>
                            <button onclick="alert('ç¼–è¾‘')">ç¼–è¾‘</button>
                            <button onclick="alert('æŸ¥çœ‹ç»Ÿè®¡')">ç»Ÿè®¡</button>
                            <button onclick="alert('åˆ é™¤')">åˆ é™¤</button>
                        </div>
                    </div>
                </div>

                <!-- ç³»ç»Ÿè®¾ç½® -->
                <div id="adminSettings" class="admin-tab" style="display: none;">
                    <h2>âš™ï¸ ç³»ç»Ÿè®¾ç½®</h2>
                    
                    <div class="profile-section">
                        <h3>å…¨å±€é…ç½®</h3>
                        <p><label>ç½‘ç«™åç§°: <input type="text" value="ChatPack"></label></p>
                        <p><label>ç½‘ç«™æè¿°: <input type="text" value="å•è¯å­¦ä¹ æ¸¸æˆå¹³å°" style="width: 400px;"></label></p>
                        <p><label>Logo URL: <input type="text" placeholder="https://..." style="width: 400px;"></label></p>
                        <button>ä¿å­˜</button>
                    </div>
                    
                    <div class="profile-section">
                        <h3>åŠŸèƒ½å¼€å…³</h3>
                        <p><label><input type="checkbox" checked> å…è®¸ç”¨æˆ·æ³¨å†Œ</label></p>
                        <p><label><input type="checkbox" checked> é‚€è¯·ç å¿…å¡«</label></p>
                        <p><label><input type="checkbox" checked> å¯ç”¨èŠå¤©å®¤</label></p>
                        <p><label><input type="checkbox" checked> å¯ç”¨å¼€åŒ…åŠŸèƒ½</label></p>
                        <button>ä¿å­˜</button>
                    </div>
                    
                    <div class="profile-section">
                        <h3>ç³»ç»Ÿå‚æ•°</h3>
                        <p><label>æ–°ç”¨æˆ·é»˜è®¤å¡åŒ…æ•°é‡: <input type="number" value="3" style="width: 80px;"></label></p>
                        <p><label>åˆ†é¡µé»˜è®¤å¤§å°: <input type="number" value="20" style="width: 80px;"></label></p>
                        <p><label>æœ€å¤§ä¸Šä¼ æ–‡ä»¶å¤§å°(MB): <input type="number" value="10" style="width: 80px;"></label></p>
                        <button>ä¿å­˜</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="word-detail" id="wordDetail" style="display:none;">
        <h2 id="detailWord">hello</h2>
        <p><strong>éŸ³æ ‡:</strong> <span id="detailPhonetic">/hÉ™ËˆlÉ™ÊŠ/</span></p>
        <p><strong>é‡Šä¹‰:</strong> <span id="detailMeaning">ä½ å¥½ï¼›å“ˆå–½</span></p>
        <p><strong>ç¨€æœ‰åº¦:</strong> <span id="detailRarity" class="badge">COMMON</span></p>
        <p><strong>æ‰€å±å•è¯ä¹¦:</strong> <span id="detailBooks">å°å­¦è¯æ±‡</span></p>
        <p><strong>ä¾‹å¥:</strong></p>
        <p id="detailExample" style="font-style: italic; color: #666;">Hello, how are you?</p>
        <hr style="margin: 15px 0;">
        <button onclick="toggleFavorite()">â­ åŠ å…¥ç”Ÿè¯æœ¬</button>
        <button onclick="closeWordDetail()">å…³é—­</button>
    </div>

    <script>
        // ========== æ•°æ®æ¨¡æ‹Ÿ ==========
        const mockWords = [
            { word: 'hello', meaning: 'ä½ å¥½', phonetic: '/hÉ™ËˆlÉ™ÊŠ/', rarity: 'COMMON', books: ['primary'], example: 'Hello, how are you?' },
            { word: 'world', meaning: 'ä¸–ç•Œ', phonetic: '/wÉœËld/', rarity: 'COMMON', books: ['primary'], example: 'Welcome to the world.' },
            { word: 'beautiful', meaning: 'ç¾ä¸½çš„', phonetic: '/ËˆbjuËtÉªfl/', rarity: 'RARE', books: ['middle'], example: 'What a beautiful day!' },
            { word: 'extraordinary', meaning: 'éå‡¡çš„', phonetic: '/ÉªkËˆstrÉ”Ëdnri/', rarity: 'EPIC', books: ['high'], example: 'An extraordinary achievement.' },
            { word: 'serendipity', meaning: 'æ„å¤–å‘ç°çå¥‡äº‹ç‰©çš„æœ¬é¢†', phonetic: '/ËŒserÉ™nËˆdÉªpÉ™ti/', rarity: 'LEGENDARY', books: ['cet6'], example: 'Finding you was pure serendipity.' }
        ];

        const state = {
            inventory: [],
            notebook: [],
            messages: [
                { user: 'å¼ ä¸‰', text: 'Hello everyone!', time: '10:00', rarity: 'RARE' },
                { user: 'æå››', text: 'Good morning! How are you?', time: '10:02', rarity: 'COMMON' },
                { user: 'ç‹äº”', text: 'Beautiful day today!', time: '10:05', rarity: 'EPIC' }
            ],
            totalPacks: 0,
            currentRoom: 'ğŸŒ± å°å­¦ä¹å›­'
        };

        // ========== é¡µé¢åˆ‡æ¢ ==========
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageName + 'Page').classList.add('active');
            document.querySelectorAll('.nav button').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            
            // æ›´æ–°ç›¸å…³æ•°æ®
            if (pageName === 'chat') renderMessages();
            if (pageName === 'inventory') updateInventory();
            if (pageName === 'vocabulary') updateVocabulary();
            if (pageName === 'notebook') updateNotebook();
            if (pageName === 'profile') updateProfile();
        }

        // ========== å‰åå°åˆ‡æ¢ ==========
        function showAdmin() {
            document.getElementById('adminSystem').style.display = 'block';
            document.querySelector('.container').style.display = 'none';
        }

        function showUser() {
            document.getElementById('adminSystem').style.display = 'none';
            document.querySelector('body > .container').style.display = 'flex';
        }

        // ========== å¡åŒ…åŠŸèƒ½ ==========
        function openPack(type) {
            const counts = { common: 5, rare: 5, epic: 5, legendary: 5 };
            const count = counts[type] || 5;
            const results = [];
            
            for (let i = 0; i < count; i++) {
                let rarity;
                if (type === 'common') {
                    const r = Math.random();
                    rarity = r < 0.6 ? 'COMMON' : r < 0.9 ? 'RARE' : r < 0.98 ? 'EPIC' : 'LEGENDARY';
                } else {
                    rarity = type.toUpperCase();
                }
                
                const filtered = mockWords.filter(w => w.rarity === rarity);
                const word = filtered[Math.floor(Math.random() * filtered.length)] || mockWords[0];
                results.push(word);
                
                if (!state.inventory.find(w => w.word === word.word)) {
                    state.inventory.push({ ...word, favorite: false, obtainedAt: new Date() });
                }
            }
            
            state.totalPacks++;
            document.getElementById('totalPacks').textContent = state.totalPacks;
            
            const grid = document.getElementById('cardGrid');
            grid.innerHTML = results.map(w => `
                <div class="card">
                    <div class="badge badge-${w.rarity.toLowerCase()}">${w.rarity}</div>
                    <h3>${w.word}</h3>
                    <p style="font-size: 12px;">${w.meaning}</p>
                </div>
            `).join('');
            
            document.getElementById('packResult').style.display = 'block';
        }

        // ========== èŠå¤©å®¤åŠŸèƒ½ ==========
        function switchRoom(el, roomName) {
            document.querySelectorAll('.room-item').forEach(r => r.classList.remove('active'));
            el.classList.add('active');
            state.currentRoom = roomName;
            document.getElementById('currentRoom').textContent = roomName;
        }

        function renderMessages() {
            const container = document.getElementById('chatMessages');
            container.innerHTML = state.messages.map(m => `
                <div class="message">
                    <div class="message-info">
                        <strong>${m.user}</strong> 
                        <span class="badge badge-${m.rarity.toLowerCase()}">${m.rarity}</span>
                        <span style="margin-left: 10px; color: #999;">${m.time}</span>
                    </div>
                    <div>${m.text}</div>
                    <div class="message-actions">
                        <button onclick="alert('é€èŠ±+1')">ğŸŒ¸ é€èŠ±</button>
                        <button onclick="alert('å›å¤åŠŸèƒ½')">â†©ï¸ å›å¤</button>
                    </div>
                </div>
            `).join('');
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            if (!input.value.trim()) return;
            
            const now = new Date();
            state.messages.push({
                user: 'æ—…è¡Œè€…',
                text: input.value,
                time: `${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')}`,
                rarity: 'LEGENDARY'
            });
            input.value = '';
            renderMessages();
        }

        // ========== åº“å­˜åŠŸèƒ½ ==========
        function updateInventory() {
            const counts = { total: state.inventory.length, rare: 0, epic: 0, legendary: 0 };
            state.inventory.forEach(w => {
                if (w.rarity === 'RARE') counts.rare++;
                if (w.rarity === 'EPIC') counts.epic++;
                if (w.rarity === 'LEGENDARY') counts.legendary++;
            });
            
            document.getElementById('invTotal').textContent = counts.total;
            document.getElementById('invRare').textContent = counts.rare;
            document.getElementById('invEpic').textContent = counts.epic;
            document.getElementById('invLegendary').textContent = counts.legendary;
            
            filterInventory();
        }

        function filterInventory() {
            const rarity = document.getElementById('invRarityFilter').value;
            const search = document.getElementById('invSearch').value.toLowerCase();
            const favoriteOnly = document.getElementById('invFavorite').checked;
            
            let filtered = state.inventory.filter(w => 
                (rarity === 'all' || w.rarity === rarity) &&
                (w.word.includes(search) || w.meaning.includes(search)) &&
                (!favoriteOnly || w.favorite)
            );
            
            const grid = document.getElementById('inventoryGrid');
            grid.innerHTML = filtered.map(w => `
                <div class="word-item" onclick="showWordDetail('${w.word}', true)">
                    <strong>${w.word}</strong>
                    <div style="font-size: 12px; color: #666;">${w.meaning}</div>
                    <div class="badge badge-${w.rarity.toLowerCase()}">${w.rarity}</div>
                    ${w.favorite ? '<div style="color: orange;">â­</div>' : ''}
                </div>
            `).join('');
        }

        // ========== è¯æ±‡åº“åŠŸèƒ½ ==========
        function updateVocabulary() {
            const owned = state.inventory.length;
            const total = 5000;
            const progress = ((owned / total) * 100).toFixed(1);
            
            document.getElementById('vocabTotal').textContent = total;
            document.getElementById('vocabOwned').textContent = owned;
            document.getElementById('vocabProgress').textContent = progress + '%';
            
            filterVocabulary();
        }

        function filterVocabulary() {
            const book = document.getElementById('vocabBookFilter').value;
            const rarity = document.getElementById('vocabRarityFilter').value;
            const search = document.getElementById('vocabSearch').value.toLowerCase();
            const unownedOnly = document.getElementById('vocabUnowned').checked;
            
            let filtered = mockWords.filter(w => {
                const isOwned = state.inventory.some(inv => inv.word === w.word);
                return (book === 'all' || w.books.includes(book)) &&
                       (rarity === 'all' || w.rarity === rarity) &&
                       (w.word.includes(search) || w.meaning.includes(search)) &&
                       (!unownedOnly || !isOwned);
            });
            
            document.getElementById('vocabFiltered').textContent = filtered.length;
            
            const grid = document.getElementById('vocabularyGrid');
            grid.innerHTML = filtered.map(w => {
                const isOwned = state.inventory.some(inv => inv.word === w.word);
                return `
                    <div class="word-item" onclick="showWordDetail('${w.word}', ${isOwned})">
                        <strong>${w.word}</strong>
                        <div style="font-size: 12px; color: #666;">${w.meaning}</div>
                        <div class="badge badge-${w.rarity.toLowerCase()}">${w.rarity}</div>
                        ${!isOwned ? '<div class="badge badge-new">æœªè·å¾—</div>' : ''}
                    </div>
                `;
            }).join('');
        }

        // ========== ç”Ÿè¯æœ¬åŠŸèƒ½ ==========
        function updateNotebook() {
            document.getElementById('notebookCount').textContent = state.notebook.length;
            filterNotebook();
        }

        function filterNotebook() {
            const search = document.getElementById('notebookSearch').value.toLowerCase();
            const sort = document.getElementById('notebookSort').value;
            
            let filtered = state.notebook.filter(w => 
                w.word.includes(search) || w.meaning.includes(search)
            );
            
            if (sort === 'alpha') filtered.sort((a, b) => a.word.localeCompare(b.word));
            if (sort === 'rarity') filtered.sort((a, b) => {
                const order = { LEGENDARY: 0, EPIC: 1, RARE: 2, COMMON: 3 };
                return order[a.rarity] - order[b.rarity];
            });
            
            const list = document.getElementById('notebookList');
            if (filtered.length === 0) {
                list.innerHTML = '<p style="color: #666;">æš‚æ— ç”Ÿè¯</p>';
            } else {
                list.innerHTML = filtered.map(w => `
                    <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
                        <h3>${w.word} <span class="badge badge-${w.rarity.toLowerCase()}">${w.rarity}</span></h3>
                        <p>${w.meaning}</p>
                        <p style="font-size: 12px; color: #666;">æ·»åŠ æ—¶é—´: ${w.addedAt ? new Date(w.addedAt).toLocaleString() : 'æœªçŸ¥'}</p>
                        <button onclick="removeFromNotebook('${w.word}')">ç§»é™¤</button>
                        <button onclick="showWordDetail('${w.word}', true)">æŸ¥çœ‹è¯¦æƒ…</button>
                    </div>
                `).join('');
            }
        }

        function toggleFavorite() {
            const word = document.getElementById('detailWord').textContent;
            const invWord = state.inventory.find(w => w.word === word);
            
            if (invWord) {
                invWord.favorite = !invWord.favorite;
                
                if (invWord.favorite && !state.notebook.some(w => w.word === word)) {
                    state.notebook.push({ ...invWord, addedAt: new Date() });
                }
                
                alert(invWord.favorite ? 'å·²åŠ å…¥ç”Ÿè¯æœ¬' : 'å·²ä»ç”Ÿè¯æœ¬ç§»é™¤');
            } else {
                alert('è¯·å…ˆæ”¶é›†æ­¤å•è¯');
            }
        }

        function removeFromNotebook(word) {
            state.notebook = state.notebook.filter(w => w.word !== word);
            const invWord = state.inventory.find(w => w.word === word);
            if (invWord) invWord.favorite = false;
            updateNotebook();
        }

        // ========== æœç´¢åŠŸèƒ½ ==========
        function performSearch() {
            const scope = document.getElementById('searchScope').value;
            const query = document.getElementById('searchInput').value.toLowerCase();
            const exact = document.getElementById('searchExact').checked;
            const caseSensitive = document.getElementById('searchCaseSensitive').checked;
            const searchMeaning = document.getElementById('searchMeaning').checked;
            
            if (!query) {
                document.getElementById('searchResults').innerHTML = '<p style="color: #666;">è¯·è¾“å…¥æœç´¢å…³é”®è¯</p>';
                return;
            }
            
            let results = [];
            
            if (scope === 'inventory' || scope === 'both') {
                results = results.concat(state.inventory.filter(w => {
                    const wordMatch = caseSensitive ? w.word.includes(query) : w.word.toLowerCase().includes(query);
                    const meaningMatch = searchMeaning && w.meaning.includes(query);
                    return exact ? (w.word === query) : (wordMatch || meaningMatch);
                }).map(w => ({ ...w, source: 'inventory' })));
            }
            
            if (scope === 'vocabulary' || scope === 'both') {
                results = results.concat(mockWords.filter(w => {
                    const isOwned = state.inventory.some(inv => inv.word === w.word);
                    if (scope === 'both' && isOwned) return false; // é¿å…é‡å¤
                    
                    const wordMatch = caseSensitive ? w.word.includes(query) : w.word.toLowerCase().includes(query);
                    const meaningMatch = searchMeaning && w.meaning.includes(query);
                    return exact ? (w.word === query) : (wordMatch || meaningMatch);
                }).map(w => ({ ...w, source: 'vocabulary' })));
            }
            
            const container = document.getElementById('searchResults');
            if (results.length === 0) {
                container.innerHTML = '<p style="color: #666;">æœªæ‰¾åˆ°åŒ¹é…çš„å•è¯</p>';
            } else {
                container.innerHTML = `
                    <h2>æœç´¢ç»“æœ (${results.length})</h2>
                    <div class="word-grid">
                        ${results.map(w => `
                            <div class="word-item" onclick="showWordDetail('${w.word}', ${w.source === 'inventory'})">
                                <strong>${w.word}</strong>
                                <div style="font-size: 12px; color: #666;">${w.meaning}</div>
                                <div class="badge badge-${w.rarity.toLowerCase()}">${w.rarity}</div>
                                <div style="font-size: 10px; color: #999;">${w.source === 'inventory' ? 'å·²æ”¶é›†' : 'æœªæ”¶é›†'}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
        }

        // ========== æœç´¢åŠŸèƒ½ ==========
        function performSearch() {
            const scope = document.getElementById('searchScope').value;
            const query = document.getElementById('searchInput').value.toLowerCase();
            const exact = document.getElementById('searchExact').checked;
            const caseSensitive = document.getElementById('searchCaseSensitive').checked;
            const searchMeaning = document.getElementById('searchMeaning').checked;
            
            if (!query) {
                document.getElementById('searchResults').innerHTML = '<p style="color: #666;">è¯·è¾“å…¥æœç´¢å…³é”®è¯</p>';
                return;
            }
            
            let results = [];
            
            if (scope === 'inventory' || scope === 'both') {
                results = results.concat(state.inventory.filter(w => {
                    const wordMatch = caseSensitive ? w.word.includes(query) : w.word.toLowerCase().includes(query);
                    const meaningMatch = searchMeaning && w.meaning.includes(query);
                    return exact ? (w.word === query) : (wordMatch || meaningMatch);
                }).map(w => ({ ...w, source: 'inventory' })));
            }
            
            if (scope === 'vocabulary' || scope === 'both') {
                results = results.concat(mockWords.filter(w => {
                    const isOwned = state.inventory.some(inv => inv.word === w.word);
                    if (scope === 'both' && isOwned) return false; // é¿å…é‡å¤
                    
                    const wordMatch = caseSensitive ? w.word.includes(query) : w.word.toLowerCase().includes(query);
                    const meaningMatch = searchMeaning && w.meaning.includes(query);
                    return exact ? (w.word === query) : (wordMatch || meaningMatch);
                }).map(w => ({ ...w, source: 'vocabulary' })));
            }
            
            const container = document.getElementById('searchResults');
            if (results.length === 0) {
                container.innerHTML = '<p style="color: #666;">æœªæ‰¾åˆ°åŒ¹é…çš„å•è¯</p>';
            } else {
                container.innerHTML = `
                    <h2>æœç´¢ç»“æœ (${results.length})</h2>
                    <div class="word-grid">
                        ${results.map(w => `
                            <div class="word-item" onclick="showWordDetail('${w.word}', ${w.source === 'inventory'})">
                                <strong>${w.word}</strong>
                                <div style="font-size: 12px; color: #666;">${w.meaning}</div>
                                <div class="badge badge-${w.rarity.toLowerCase()}">${w.rarity}</div>
                                <div style="font-size: 10px; color: #999;">${w.source === 'inventory' ? 'å·²æ”¶é›†' : 'æœªæ”¶é›†'}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
        }

        // ========== å¡åŒ…é¢†å–åŠŸèƒ½ ==========
        function claimWithInviteCode() {
            const code = document.getElementById('inviteCode').value.trim();
            if (!code) {
                alert('è¯·è¾“å…¥é‚€è¯·ç ');
                return;
            }
            alert(`ä½¿ç”¨é‚€è¯·ç  ${code} é¢†å–å¡åŒ…æˆåŠŸï¼è·å¾—æ™®é€šå¡åŒ… x1`);
        }

        function claimDailyPack() {
            alert('æ¯æ—¥ç­¾åˆ°æˆåŠŸï¼è·å¾—æ™®é€šå¡åŒ… x1');
        }

        function claimNewbiePack() {
            alert('é¢†å–æ–°æ‰‹ç¤¼åŒ…æˆåŠŸï¼è·å¾—æ™®é€šå¡åŒ… x3');
        }

        // ========== åå°ç®¡ç†åŠŸèƒ½ ==========
        function showAdminTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾é¡µ
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.style.display = 'none';
            });
            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µ
            const targetTab = document.getElementById('admin' + tabName.charAt(0).toUpperCase() + tabName.slice(1));
            if (targetTab) {
                targetTab.style.display = 'block';
            }
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('#adminSystem .nav button').forEach(btn => btn.classList.remove('active'));
            const targetBtn = document.getElementById('admin' + tabName.charAt(0).toUpperCase() + tabName.slice(1) + 'Btn');
            if (targetBtn) {
                targetBtn.classList.add('active');
            }
        }

        // ========== å•è¯è¯¦æƒ… ==========
        function showWordDetail(word, isOwned) {
            const wordData = mockWords.find(w => w.word === word) || state.inventory.find(w => w.word === word);
            if (!wordData) return;
            
            document.getElementById('detailWord').textContent = wordData.word;
            document.getElementById('detailPhonetic').textContent = wordData.phonetic;
            document.getElementById('detailMeaning').textContent = wordData.meaning;
            document.getElementById('detailRarity').textContent = wordData.rarity;
            document.getElementById('detailRarity').className = 'badge badge-' + wordData.rarity.toLowerCase();
            document.getElementById('detailBooks').textContent = wordData.books ? wordData.books.join(', ') : 'æœªçŸ¥';
            document.getElementById('detailExample').textContent = wordData.example || 'æš‚æ— ä¾‹å¥';
            
            document.getElementById('overlay').classList.add('active');
            document.getElementById('wordDetail').style.display = 'block';
        }

        function closeWordDetail() {
            document.getElementById('overlay').classList.remove('active');
            document.getElementById('wordDetail').style.display = 'none';
        }

        // ========== ä¸ªäººä¸­å¿ƒ ==========
        function updateProfile() {
            document.getElementById('profilePacks').textContent = state.totalPacks;
            document.getElementById('profileWords').textContent = state.inventory.length;
        }

        // åˆå§‹åŒ–
        renderMessages();
    </script>
</body>
</html>